<app-main-layout
  [userRole]="userRole"
  [sidenavCollapsed]="sidenavCollapsed"
  [breadcrumbItems]="breadcrumbItems"
  (sidenavToggle)="onSidenavToggle($event)"
  (fullscreenToggle)="toggleFullscreen()"
  (logoutEvent)="logout()"
>
  <div class="lic-products-container">
    

    <!-- Search and Filter Section -->
    <div class="filter-section">
      <div class="search-container">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input 
            type="text" 
            placeholder="{{ languageService.translate('lic.search_insurance_plans') }}" 
            [(ngModel)]="searchTerm"
            class="search-input"
          >
        </div>
      </div>
      
      <div class="category-filters">
        <div class="filter-tabs">
          <button 
            *ngFor="let category of categories" 
            [class]="'filter-tab ' + (selectedCategory === category.id ? 'active' : '')"
            (click)="selectedCategory = category.id"
          >
            <i [class]="category.icon"></i>
            <span>{{ category.name }}</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Products Grid -->
    <div class="products-grid">
      <div 
        *ngFor="let product of filteredProducts" 
        class="product-card"
        [class.new-product]="product.isNew"
      >
        <div class="product-header">
          <div class="product-badges">
            <span *ngIf="product.isNew" class="badge new-badge">NEW</span>
            <span class="badge type-badge" [style.background-color]="getProductTypeColor(product.type)">
              {{ product.type }}
            </span>
          </div>
          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-category">{{ getCategoryName(product.category) }}</p>
        </div>

        <div class="product-content">
          <p class="product-description">{{ product.description }}</p>
          
          <div class="product-features">
            <h4>{{ languageService.translate('lic.key_features') }}</h4>
            <ul>
              <li *ngFor="let feature of product.features.slice(0, 4)">
                <i class="fas fa-check-circle"></i>
                {{ feature }}
              </li>
              <li *ngIf="product.features.length > 4" class="more-features">
                +{{ product.features.length - 4 }} {{ languageService.translate('lic.more_features') }}
              </li>
            </ul>
          </div>
        </div>

        <div class="product-footer">
          <div class="product-actions">
            <button 
              *ngIf="product.buyOnline" 
              class="btn btn-primary buy-online-btn"
              (click)="openBuyOnline(product)"
            >
              <i class="fas fa-shopping-cart"></i>
              {{ languageService.translate('lic.buy_online') }}
            </button>
            <button 
              class="btn btn-secondary details-btn"
              (click)="viewProductDetails(product)"
            >
              <i class="fas fa-info-circle"></i>
              {{ languageService.translate('lic.view_details') }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- No Results Message -->
    <div *ngIf="filteredProducts.length === 0" class="no-results">
      <div class="no-results-content">
        <i class="fas fa-search"></i>
        <h3>{{ languageService.translate('lic.no_products_found') }}</h3>
        <p>{{ languageService.translate('lic.try_adjusting_search') }}</p>
        <button class="btn btn-primary" (click)="selectedCategory = 'all'; searchTerm = ''">
          {{ languageService.translate('lic.clear_filters') }}
        </button>
      </div>
    </div>


    <!-- Government Schemes -->
    <div class="govt-schemes-section">
      <h2 class="section-title">{{ languageService.translate('lic.government_schemes') }}</h2>
      <div class="schemes-grid">
        <div class="scheme-card">
          <h3>{{ languageService.translate('lic.pmjby') }}</h3>
          <div class="scheme-details">
            <div class="detail-item">
              <strong>{{ languageService.translate('lic.age_group') }}:</strong> 18-50 years
            </div>
            <div class="detail-item">
              <strong>{{ languageService.translate('lic.cover') }}:</strong> ₹2 Lakhs
            </div>
            <div class="detail-item">
              <strong>{{ languageService.translate('lic.premium_annum') }}:</strong> ₹436/annum
            </div>
          </div>
        </div>
        <div class="scheme-card">
          <h3>{{ languageService.translate('lic.pmmvy') }}</h3>
          <div class="scheme-details">
            <div class="detail-item">
              <strong>{{ languageService.translate('lic.pension_scheme') }}:</strong> Pension Scheme
            </div>
            <div class="detail-item">
              <strong>{{ languageService.translate('lic.website') }}:</strong> www.maandhan.in
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</app-main-layout>

